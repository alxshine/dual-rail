\section{Results}
\label{results}
In this section I will discuss the balancing results for the two main algorithms I tested the pass on: RC4 and AES.
Both algorithms have been written/adapted so that they utilize the stack as much as possible, maximizing the benefit of my balancing pass.

\subsection{Security}
\begin{figure}[h]
  \centering
  \begin{subfigure}[b]{0.49\textwidth}
    \input{tikz/rc4-unbalanced.tex}
    \caption{Unbalanced RC4}
  \end{subfigure}
  \begin{subfigure}[b]{0.49\textwidth}
    \input{tikz/rc4-balanced.tex}
    \caption{Balanced RC4}
  \end{subfigure}

  \begin{subfigure}[b]{\textwidth}
    \input{tikz/rc4-comparison.tex}
    \caption{Scaled Hamming weight histograms for RC4}
  \end{subfigure}
  \caption{Hamming weight histograms for balanced and unbalanced RC4}
\end{figure}

\begin{figure}[h]
  \centering
  \begin{subfigure}[b]{0.49\textwidth}
    \input{tikz/aes-unbalanced.tex}
    \caption{Unbalanced AES}
  \end{subfigure}
  \begin{subfigure}[b]{0.49\textwidth}
    \input{tikz/aes-balanced.tex}
    \caption{Balanced AES}
  \end{subfigure}

  \begin{subfigure}[b]{\textwidth}
    \input{tikz/aes-comparison.tex}
    \caption{Scaled Hamming weight histograms for AES}
  \end{subfigure}
  \caption{Hamming weight histograms for balanced and unbalanced AES}
\end{figure}

\subsection{Performance}
aoeu
